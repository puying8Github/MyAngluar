<!DOCTYPE html>
<html ng-app="a10_8">
<head lang="en">
    <meta charset="UTF-8">
    <title>释放多余的$watch监测函数</title>
    <script src="script/angular.min.js"></script>
    <link rel="stylesheet" href="style/css10.css"/>
</head>
<body>
<div ng-controller="c10_8" class="frame">
    <input type="text" ng-model="content"/>
    <div>第{{num}}次数据变化</div>
    <button ng-click="stopWatch()">停止监测</button>
</div>
<script>
    angular.module('a10_8',[])
            .controller('c10_8',function($scope){
                $scope.num=0;
                $scope.stopWatch=function(){
                    contentWatch();
                };
                var contentWatch=$scope.$watch('content',function(newVal,oldVal){
                    if(newVal===oldVal){return;}
                    $scope.num++;
                })
            })
</script>
</body>
</html>