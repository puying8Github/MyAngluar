<!DOCTYPE html>
<html ng-app="a8_5">
<head lang="en">
    <meta charset="UTF-8">
    <title>设置指令对象中的compile属性</title>
    <script src="script/angular.min.js"></script>
    <link rel="stylesheet" href="style/css8.css"/>
</head>
<body>
<div class="frame" ng-controller="c8_5">
    <ts-a>
        <ts-b>
            {{tip}}
        </ts-b>
    </ts-a>
</div>
<script>
    var app=angular.module('a8_5',[])
            .controller('c8_5',function($scope){
                $scope.tip="跟踪compile执行过程";
            })
            .directive('tsA',function(){
                return {
                    restrict:'EAC',
                    compile:function(tEle,tAttrs,trans){
                        console.log('正在编译A指令');
                        return {
                            pre:function(scope,iEle,iAttrs){
                                console.log('正在执行A指令中的pre函数')
                            },
                            post:function(scope,iEle,iAttrs){
                                console.log('正在执行A指令中的post函数')
                            }
                        }
                    }
                }

            })
            .directive('tsB',function(){
                return {
                    restrict:'EAC',
                    compile:function(tEle,tAttrs,trans){
                        console.log('正在编译B指令');
                        return {
                            pre:function(scope,iEle,iAttrs){
                                console.log('正在执行B指令中的pre函数')
                            },
                            post:function(scope,iEle,iAttrs){
                                console.log('正在执行B指令中的post函数')
                            }
                        }

                    }
                }
            })
</script>
</body>
</html>